/// The implementation of the on-badge game interaction state machine.
/**
 ** This is specific to the on-badge-only game. That is, the majority of the
 ** code-breaking part of the game goes elsewhere. This file deals with the
 ** state machine that comes in from the spreadsheets.
 **
 ** \file game.c
 ** \author George Louthan
 ** \date   2018
 ** \copyright (c) 2018 George Louthan @duplico. MIT License.
 */

#include <stdint.h>
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

#include <msp430.h>

#include "qc15.h"
#include "leds.h"
#include "game.h"
#include "lcd111.h"

void start_action_series(uint16_t action_id);

#define GAME_ACTION_TYPE_ANIM_TEMP 0
#define GAME_ACTION_TYPE_SET_ANIM_BG 1
#define GAME_ACTION_TYPE_STATE_TRANSITION 2
#define GAME_ACTION_TYPE_PUSH 3
#define GAME_ACTION_TYPE_POP 4
#define GAME_ACTION_TYPE_PREVIOUS 5 // This is how we'll implement "pop", to start.
#define GAME_ACTION_TYPE_CLOSE 6
#define GAME_ACTION_TYPE_NOP 7
#define GAME_ACTION_TYPE_TEXT 16
#define GAME_ACTION_TYPE_TEXT_BADGNAME 17
#define GAME_ACTION_TYPE_TEXT_USERNAME 18
#define GAME_ACTION_TYPE_TEXT_CNT 19
#define GAME_ACTION_TYPE_TEXT_END 99
#define GAME_ACTION_TYPE_OTHER 100


// The following data will be loaded from the script:
led_ring_animation_t all_animations[3];

uint16_t all_actions_len = 569;
uint16_t all_text_len = 428;
uint16_t all_states_len = 34;
uint16_t all_anims_len = 3;

uint8_t all_text[][25] = {"wDFGHffdf","234vv33vdf","Cucumber","e99tftgED","Hello?","Are you broken?"," ","Reboot.","INITIALIZING","Initialize.","....................","Completed.","I'm confused","Set state.","Welcome to customer","support, how may I help?","I'm sorry to hear that!","Badge doesn't work.","I'll be glad to help.","First we need to do a","reset.","Please unplug your","badge, wait three","seconds, then plug it","back in.","I'm sorry I have failed","to provide you adequate","assistance at this time.","Our supervisor is","available on 3rd","Tuesdays between the","hours of 3am and 3:17am","in whatever timezone you","are in.","Supervisor","Goodbye.","Have you?","I tried a reboot.","Have you really?","You think you're smarter","than me?","Do it again.","I'll wait.","I'm sorry, I cannot","discuss personal matters","with you.","You speak English!","...","Hello(gibberish)","HeGibberishllo","Gibberish","Speak English!","Learn","broke455gfr","you broken6!","Are you...","BUFFER OVERFLOW","I give up.","Speak hello","Engli-llo","Speakeng","Getting closer...","Words learn","Heword learn","Earn wordslo","Keep learning","Load English","ERR: Not in state mode","Store wordset","Rebooting","Set state:","ERR: State not found.","Language","Mode","First Run","AR112-1","ISO-3166-1.2","BCP-47","Value:","ERROR: \"You pick.\"","invalid.","You pick.","ERROR: \"English\"","English","ERROR: \"Game mode\"","Game mode","Value stored.","US","Help","You wish.","God mode","Datei nicht gefunden.","zh-DE","Neustart...","Right y'all...","en-boont-latn-021","Got it.","Language set,","awesomeness level 11.","So who are you?","Still there?","Hellooo?","It's not a trick","question.","Screw it.","That's it.","Nevermind.","We're done.","Is there another human","around?","You're killing me.","See you, human.","My name is...","%s? Seriously?","Good name for a monkey","Well %s I have no","idea what's going on.","Seriously?","Who are you?","For real?","What?","I asked you first.","You don't question ME.","You hard of hearing?","For crying out loud...","What are you?","I'm not a *thing*. Well","ok, I mean... shut up.","You going to tell me","your name or not?","Everything!","What do you do?","I am all-powerful!","I control a network...","I think.","Do you believe me?","Or something.","No matter now.","Now I talk to monkeys.","Must you waste time?","You know what?","Sometimes I think you","hate me.","I need more buttons.","I've no idea what's","going on.","You there, %s?","It's like I just woke","up.","What do you mean?","I was doing something","Holding something","Something important.","But now I don't know.","Ah, this I know.","What's your name?","Some call me \"Mr.","Awesome\"","Some call me \"Mysterio\"","Some call me \"The Great","One\"","But you can call me...","%s","So now we know each","other.","Sort of.","Wish I knew more than","that.","WHAT. DID YOU. SAY?","You're a badge.","No I am NOT.","I'm brilliant.","I'm all-powerful.","I have one fine booty.","And I need help.","From a monkey.","From you.","This SUCKS.","Right, we can do this","later.","My status?","Status","Who me?","Damned confused.","Stuck with you.","Dark, lost, and","brilliant.","That's my status.","WHAT?","You're my badge!","You don't OWN me!","If anything, I would own","YOU.","All superior beings,","raise your processing","power to 6.77 exawatts.","Yeah, thought so.","Do YOU have lights?","Do you have lights?","See how that sounds?","That's how you sound.","Oh wait.","Is it bedtime?","Go to sleep.","Ok fine.","See you later.","Sigh...","What do you need?","Guess I'm glad you","asked.","WOHOO!","I did that.","Me. Booyah!","So awesome.","Ugh %s that's so","like you.","That's really bright.","I do a thing, and you","complain.","Fine.","Better?","Ok yes that's better.","I'm lost.","I remember holding","something.","And I wasn't alone.","Is that so hard to","believe?","Like friends?","I'll have you know I'm","awesome.","But now I have no one.","Oh, monkey...","Hey, I'm here.","You don't count.","I mean more like me.","I've lost control.","And lost my goal.","Somehow, you must help","me.","I protected something.","What was your goal?","Part of it, anyway.","I assume I still have","it, whatever it is.","HEY!","What's in it for me?","There's gotta be a","\"shock the idiot\" button","somewhere.","Try pushing buttons.","Thank you!","Ok, I'll help.","One problem...","I don't know what to do.","I'm not sure.","What's your goal?","I'm sensing something","out there.","And in here.","More? Like what?","Can you do more?","Brew tea?","Make a sandwich?","I dunno, try putting me","in the freezer.","Give back rubs?","Tie your shoes?","Dolt.","Dumbass.","Seriously...","Scan? Scan what?","Scan","You, me, or... out","there?","Hey %s!","Eh, nevermind.","Hey!","Seriously!","Guess what?","I just realized!","What is it?","There's no 2!","In my code, there are 1s","and 0s but no 2s.","Sorry, can you count to","2?","Don't strain yourself.","Ok, I scanned your face.","It was funny.","Uh, ok. Scanning...","You.","Lots of awesome...","A hint of basil...","...and something else.","Really? Ok.","Me.","Nope. Nothing.","Right. Looking...","Out there.","...nothing.","Oh well.","Someone's out there.","Connecting to what?","Try connecting","There are some markings.","What should I look for?","CUSTOMSTATENAMESEARCH","Actually, yes.","Anything about me?","You're funny-lookin.","You have 11 toes.","But are nice?","But smell good?","I'm skeptical.","Tell me about...","I sure hope so.","Got it. Let's do it.","If not, ask other meat","bags with more patience.","Let's do this!","Another being, like me.","...that badge?","I can see names, now.","And we have something...","...a file. Or part of","one.","It seems there's a file.","...your goal?","Broken up. I have one","piece.","Others have pieces too.","But they're encrypted.","Together, we can crack","it.","Well I'm not alone.","...you?","I protect this file, but","it is fragmented.","And locked. No sign of","keys.","I have to brute force","this.","Dunno.","Anyone around?","Let's check.","Why, you lonely?","Hrmm...","Scanning...","Checking...","I see %d badges.","Giggity.","Let's connect.","Ok.","Connecting to network.","...oh. My. GOD.","Do you have speakers?","You want speakers?","What are we playing?","Bieber?","Fraggle Rock?","A capella hair rock?","Enya's Greatest Hits?","Boot Scoot Boogie?","CUSTOMSTATESTATUS","Status check","Busy!","A little hungry. Is that","odd?","Uff... tired.","Wondering if it's too","late to turn into a","toaster.","Why's the file locked?","More bling?","More with lights?","Not gay enough yet?","I'll try some things","Shout if you see","COLORFINDER","CRACKINGTHEFILE3","How hold do I look?","How old are you?","Younger than a CD","player.","Younger than Jason.","Younger than a million.","Younger than that","hairstyle.","Older than a proton","neutralizer.","Older than a wee babe.","Does that help?","Studying quantum","knitting.","Practicing my showtunes.","What's YOUR status?","It's...","How's the file?","Let's try this.","So no, then.","What am I seeing?","Each LED is part of my","file.","The more we unlock the","file, the more stable","the lights.","Also other stuff, go to","the badge talk.","There's a note...","\"To make closing","ceremony interesting.\"","Mean anything?","Logging off...","Connected!","We're online.","%d badges around.","%d others.","%d in range.","Nope.","Wake up!","Go away.","I'm still hurt.","Ok, fine.","Wha-?","Beep beep. Just kidding.","Ugh, I was having such a","nice dream."};

game_action_t all_actions[] = {(game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=0, .duration=25, .next_action_id=65535, .next_choice_id=1, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=1, .duration=26, .next_action_id=65535, .next_choice_id=2, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=2, .duration=24, .next_action_id=65535, .next_choice_id=3, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=3, .duration=25, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=0, .duration=25, .next_action_id=65535, .next_choice_id=5, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=1, .duration=26, .next_action_id=65535, .next_choice_id=6, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=2, .duration=24, .next_action_id=65535, .next_choice_id=7, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=3, .duration=25, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=2, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=3, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=11, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=12, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=13, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=8, .duration=28, .next_action_id=15, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=10, .duration=36, .next_action_id=16, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=11, .duration=26, .next_action_id=17, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=1, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=6, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=14, .duration=35, .next_action_id=21, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=15, .duration=40, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=16, .duration=39, .next_action_id=23, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=18, .duration=37, .next_action_id=24, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=19, .duration=37, .next_action_id=25, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=20, .duration=22, .next_action_id=26, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=21, .duration=34, .next_action_id=27, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=22, .duration=33, .next_action_id=28, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=23, .duration=37, .next_action_id=29, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=24, .duration=24, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=25, .duration=39, .next_action_id=31, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=26, .duration=39, .next_action_id=32, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=27, .duration=40, .next_action_id=33, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=28, .duration=33, .next_action_id=34, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=29, .duration=32, .next_action_id=35, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=30, .duration=36, .next_action_id=36, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=31, .duration=39, .next_action_id=37, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=32, .duration=40, .next_action_id=38, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=33, .duration=23, .next_action_id=39, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=35, .duration=24, .next_action_id=40, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=36, .duration=25, .next_action_id=42, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=38, .duration=32, .next_action_id=43, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=39, .duration=40, .next_action_id=44, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=40, .duration=24, .next_action_id=45, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=41, .duration=28, .next_action_id=46, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=42, .duration=26, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=43, .duration=35, .next_action_id=48, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=44, .duration=40, .next_action_id=49, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=45, .duration=25, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=47, .duration=19, .next_action_id=65535, .next_choice_id=51, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=48, .duration=32, .next_action_id=65535, .next_choice_id=52, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=49, .duration=30, .next_action_id=65535, .next_choice_id=53, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=50, .duration=25, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=47, .duration=19, .next_action_id=65535, .next_choice_id=55, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=48, .duration=32, .next_action_id=65535, .next_choice_id=56, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=49, .duration=30, .next_action_id=65535, .next_choice_id=57, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=50, .duration=25, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=8, .duration=28, .next_action_id=59, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=10, .duration=36, .next_action_id=60, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=11, .duration=26, .next_action_id=61, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=4, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=5, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=53, .duration=27, .next_action_id=65535, .next_choice_id=65, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=54, .duration=28, .next_action_id=65535, .next_choice_id=66, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=55, .duration=26, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=56, .duration=31, .next_action_id=68, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=8, .duration=28, .next_action_id=69, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=10, .duration=36, .next_action_id=70, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=11, .duration=26, .next_action_id=71, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=58, .duration=27, .next_action_id=65535, .next_choice_id=73, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=59, .duration=25, .next_action_id=65535, .next_choice_id=74, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=60, .duration=24, .next_action_id=65535, .next_choice_id=75, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=48, .duration=32, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=58, .duration=27, .next_action_id=65535, .next_choice_id=77, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=59, .duration=25, .next_action_id=65535, .next_choice_id=78, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=60, .duration=24, .next_action_id=65535, .next_choice_id=79, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=48, .duration=32, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=56, .duration=31, .next_action_id=81, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=8, .duration=28, .next_action_id=82, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=10, .duration=36, .next_action_id=83, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=11, .duration=26, .next_action_id=84, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=86, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=87, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=88, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=62, .duration=27, .next_action_id=65535, .next_choice_id=90, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=63, .duration=28, .next_action_id=65535, .next_choice_id=91, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=50, .duration=25, .next_action_id=65535, .next_choice_id=92, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=64, .duration=28, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=62, .duration=27, .next_action_id=65535, .next_choice_id=94, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=63, .duration=28, .next_action_id=65535, .next_choice_id=95, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=50, .duration=25, .next_action_id=65535, .next_choice_id=96, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=64, .duration=28, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=56, .duration=31, .next_action_id=98, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=8, .duration=28, .next_action_id=99, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=10, .duration=36, .next_action_id=100, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=11, .duration=26, .next_action_id=101, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=56, .duration=31, .next_action_id=103, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=8, .duration=28, .next_action_id=104, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=10, .duration=36, .next_action_id=105, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=11, .duration=26, .next_action_id=106, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=67, .duration=38, .next_action_id=108, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=69, .duration=25, .next_action_id=109, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=110, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=111, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=8, .duration=28, .next_action_id=113, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=10, .duration=36, .next_action_id=114, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=11, .duration=26, .next_action_id=115, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=70, .duration=26, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=71, .duration=37, .next_action_id=118, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=71, .duration=37, .next_action_id=120, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=71, .duration=37, .next_action_id=122, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=71, .duration=37, .next_action_id=124, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=7, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=8, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=78, .duration=22, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=79, .duration=34, .next_action_id=129, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=80, .duration=24, .next_action_id=130, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=69, .duration=25, .next_action_id=131, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=132, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=133, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=82, .duration=32, .next_action_id=135, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=80, .duration=24, .next_action_id=136, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=69, .duration=25, .next_action_id=137, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=138, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=139, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=84, .duration=34, .next_action_id=141, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=80, .duration=24, .next_action_id=142, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=69, .duration=25, .next_action_id=143, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=144, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=145, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=86, .duration=29, .next_action_id=147, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=69, .duration=25, .next_action_id=148, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=149, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=150, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=78, .duration=22, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=82, .duration=32, .next_action_id=153, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=80, .duration=24, .next_action_id=154, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=69, .duration=25, .next_action_id=155, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=156, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=157, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=1, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=89, .duration=25, .next_action_id=160, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=69, .duration=25, .next_action_id=161, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=162, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=163, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=91, .duration=37, .next_action_id=165, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=93, .duration=27, .next_action_id=166, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=167, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=168, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=94, .duration=30, .next_action_id=170, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=96, .duration=23, .next_action_id=171, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=97, .duration=29, .next_action_id=172, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=98, .duration=37, .next_action_id=173, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=99, .duration=31, .next_action_id=174, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=9, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=100, .duration=28, .next_action_id=65535, .next_choice_id=176, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=101, .duration=24, .next_action_id=65535, .next_choice_id=177, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=102, .duration=32, .next_action_id=178, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=103, .duration=25, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=104, .duration=25, .next_action_id=182, .next_choice_id=180, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=105, .duration=26, .next_action_id=182, .next_choice_id=181, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=106, .duration=26, .next_action_id=182, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=107, .duration=27, .next_action_id=187, .next_choice_id=183, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=108, .duration=38, .next_action_id=184, .next_choice_id=185, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=109, .duration=23, .next_action_id=187, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=110, .duration=34, .next_action_id=187, .next_choice_id=186, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=111, .duration=31, .next_action_id=187, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=28, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_OTHER, .detail=0, .duration=0, .next_action_id=189, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT_USERNAME, .detail=113, .duration=37, .next_action_id=191, .next_choice_id=190, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=114, .duration=38, .next_action_id=191, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT_USERNAME, .detail=115, .duration=40, .next_action_id=192, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=116, .duration=37, .next_action_id=193, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=10, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=117, .duration=26, .next_action_id=197, .next_choice_id=195, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=119, .duration=25, .next_action_id=197, .next_choice_id=196, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=120, .duration=21, .next_action_id=197, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=121, .duration=34, .next_action_id=200, .next_choice_id=198, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=122, .duration=38, .next_action_id=200, .next_choice_id=199, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=123, .duration=36, .next_action_id=200, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=9, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=124, .duration=38, .next_action_id=202, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=126, .duration=39, .next_action_id=203, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=127, .duration=38, .next_action_id=204, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=128, .duration=36, .next_action_id=205, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=129, .duration=33, .next_action_id=206, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=9, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=130, .duration=27, .next_action_id=210, .next_choice_id=208, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=132, .duration=34, .next_action_id=210, .next_choice_id=209, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=133, .duration=38, .next_action_id=210, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=134, .duration=24, .next_action_id=213, .next_choice_id=211, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=135, .duration=34, .next_action_id=213, .next_choice_id=212, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=136, .duration=29, .next_action_id=213, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=137, .duration=30, .next_action_id=214, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=138, .duration=38, .next_action_id=216, .next_choice_id=215, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=139, .duration=36, .next_action_id=216, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=9, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=104, .duration=25, .next_action_id=220, .next_choice_id=218, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=105, .duration=26, .next_action_id=220, .next_choice_id=219, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=140, .duration=30, .next_action_id=220, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=107, .duration=27, .next_action_id=225, .next_choice_id=221, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=108, .duration=38, .next_action_id=222, .next_choice_id=223, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=109, .duration=23, .next_action_id=225, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=110, .duration=34, .next_action_id=225, .next_choice_id=224, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=111, .duration=31, .next_action_id=225, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=28, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=141, .duration=37, .next_action_id=227, .next_choice_id=228, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=142, .duration=24, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=143, .duration=36, .next_action_id=65535, .next_choice_id=229, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=144, .duration=35, .next_action_id=230, .next_choice_id=231, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=145, .duration=25, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT_USERNAME, .detail=146, .duration=37, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=147, .duration=37, .next_action_id=233, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=148, .duration=19, .next_action_id=234, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=150, .duration=37, .next_action_id=235, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=151, .duration=33, .next_action_id=236, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=152, .duration=36, .next_action_id=237, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=153, .duration=37, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=154, .duration=32, .next_action_id=239, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=156, .duration=33, .next_action_id=240, .next_choice_id=241, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=157, .duration=24, .next_action_id=244, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=158, .duration=39, .next_action_id=244, .next_choice_id=242, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=159, .duration=39, .next_action_id=243, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=160, .duration=20, .next_action_id=244, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=161, .duration=38, .next_action_id=245, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT_BADGNAME, .detail=162, .duration=25, .next_action_id=246, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=163, .duration=35, .next_action_id=247, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=164, .duration=22, .next_action_id=248, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=165, .duration=24, .next_action_id=249, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=166, .duration=37, .next_action_id=250, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=167, .duration=21, .next_action_id=251, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=11, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=168, .duration=35, .next_action_id=254, .next_choice_id=253, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=170, .duration=28, .next_action_id=254, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=171, .duration=30, .next_action_id=257, .next_choice_id=255, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=172, .duration=33, .next_action_id=257, .next_choice_id=256, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=173, .duration=38, .next_action_id=257, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=174, .duration=32, .next_action_id=258, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=175, .duration=30, .next_action_id=260, .next_choice_id=259, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=176, .duration=25, .next_action_id=260, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=177, .duration=27, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=141, .duration=37, .next_action_id=262, .next_choice_id=263, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=142, .duration=24, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=143, .duration=36, .next_action_id=65535, .next_choice_id=264, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=144, .duration=35, .next_action_id=265, .next_choice_id=266, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=145, .duration=25, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT_USERNAME, .detail=146, .duration=37, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=178, .duration=37, .next_action_id=268, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=179, .duration=22, .next_action_id=269, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=29, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=180, .duration=26, .next_action_id=272, .next_choice_id=271, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=182, .duration=23, .next_action_id=272, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=183, .duration=32, .next_action_id=276, .next_choice_id=273, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=184, .duration=31, .next_action_id=276, .next_choice_id=274, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=185, .duration=31, .next_action_id=275, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=186, .duration=26, .next_action_id=276, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=187, .duration=33, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=188, .duration=21, .next_action_id=278, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=190, .duration=33, .next_action_id=279, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=191, .duration=40, .next_action_id=280, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=192, .duration=20, .next_action_id=281, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=193, .duration=36, .next_action_id=282, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=194, .duration=37, .next_action_id=283, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=195, .duration=39, .next_action_id=284, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=196, .duration=33, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=197, .duration=35, .next_action_id=286, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=199, .duration=36, .next_action_id=287, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=200, .duration=37, .next_action_id=288, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=289, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=201, .duration=24, .next_action_id=290, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=12, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=202, .duration=30, .next_action_id=293, .next_choice_id=292, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=204, .duration=24, .next_action_id=293, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=205, .duration=30, .next_action_id=294, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=29, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=206, .duration=23, .next_action_id=296, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=208, .duration=34, .next_action_id=297, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=209, .duration=22, .next_action_id=298, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=13, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_SET_ANIM_BG, .detail=0, .duration=0, .next_action_id=300, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=210, .duration=22, .next_action_id=301, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=211, .duration=27, .next_action_id=302, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=212, .duration=27, .next_action_id=303, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=213, .duration=27, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT_USERNAME, .detail=214, .duration=39, .next_action_id=305, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=215, .duration=25, .next_action_id=306, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=217, .duration=37, .next_action_id=307, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=218, .duration=25, .next_action_id=308, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=219, .duration=21, .next_action_id=309, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_SET_ANIM_BG, .detail=1, .duration=0, .next_action_id=310, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=220, .duration=23, .next_action_id=311, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=312, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=221, .duration=37, .next_action_id=313, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_CLOSE, .detail=0, .duration=0, .next_action_id=314, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_PREVIOUS, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=222, .duration=25, .next_action_id=316, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=223, .duration=34, .next_action_id=317, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=224, .duration=26, .next_action_id=318, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=225, .duration=35, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=226, .duration=34, .next_action_id=320, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=227, .duration=24, .next_action_id=321, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=229, .duration=38, .next_action_id=322, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=230, .duration=24, .next_action_id=323, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=231, .duration=38, .next_action_id=324, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=14, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=232, .duration=29, .next_action_id=326, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=234, .duration=32, .next_action_id=327, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=235, .duration=36, .next_action_id=328, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=15, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=232, .duration=29, .next_action_id=330, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=234, .duration=32, .next_action_id=331, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=235, .duration=36, .next_action_id=332, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=15, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=236, .duration=34, .next_action_id=334, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=237, .duration=33, .next_action_id=335, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=238, .duration=38, .next_action_id=336, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=239, .duration=19, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=240, .duration=38, .next_action_id=338, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=242, .duration=35, .next_action_id=339, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=243, .duration=37, .next_action_id=340, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=244, .duration=35, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=245, .duration=20, .next_action_id=342, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=247, .duration=34, .next_action_id=343, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=248, .duration=40, .next_action_id=344, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=249, .duration=26, .next_action_id=345, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=250, .duration=36, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=251, .duration=26, .next_action_id=347, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=253, .duration=30, .next_action_id=348, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=254, .duration=40, .next_action_id=349, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=16, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=17, .duration=0, .next_action_id=65535, .next_choice_id=351, .choice_share=1, .choice_total=10, }, (game_action_t){ .type=GAME_ACTION_TYPE_NOP, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=9, .choice_total=10, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=197, .duration=35, .next_action_id=353, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=199, .duration=36, .next_action_id=354, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=200, .duration=37, .next_action_id=355, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=356, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=201, .duration=24, .next_action_id=357, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=12, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=255, .duration=29, .next_action_id=359, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=257, .duration=37, .next_action_id=360, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=258, .duration=26, .next_action_id=361, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=259, .duration=28, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=260, .duration=32, .next_action_id=363, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=262, .duration=25, .next_action_id=369, .next_choice_id=364, .choice_share=1, .choice_total=5, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=263, .duration=32, .next_action_id=369, .next_choice_id=365, .choice_share=1, .choice_total=5, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=264, .duration=39, .next_action_id=366, .next_choice_id=367, .choice_share=1, .choice_total=5, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=265, .duration=31, .next_action_id=369, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=266, .duration=31, .next_action_id=369, .next_choice_id=368, .choice_share=1, .choice_total=5, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=267, .duration=31, .next_action_id=369, .next_choice_id=65535, .choice_share=1, .choice_total=5, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=268, .duration=21, .next_action_id=65535, .next_choice_id=370, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=269, .duration=24, .next_action_id=65535, .next_choice_id=371, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=270, .duration=28, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=271, .duration=32, .next_action_id=373, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=273, .duration=34, .next_action_id=374, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=274, .duration=22, .next_action_id=375, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=18, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_SET_ANIM_BG, .detail=2, .duration=0, .next_action_id=377, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT_USERNAME, .detail=275, .duration=30, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=276, .duration=30, .next_action_id=379, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_PREVIOUS, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=277, .duration=20, .next_action_id=65535, .next_choice_id=381, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT_USERNAME, .detail=275, .duration=30, .next_action_id=65535, .next_choice_id=382, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=278, .duration=26, .next_action_id=65535, .next_choice_id=383, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=279, .duration=27, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=280, .duration=32, .next_action_id=385, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=282, .duration=29, .next_action_id=386, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=283, .duration=40, .next_action_id=387, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=284, .duration=33, .next_action_id=388, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=285, .duration=39, .next_action_id=389, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=286, .duration=18, .next_action_id=390, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=287, .duration=38, .next_action_id=391, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_CLOSE, .detail=0, .duration=0, .next_action_id=392, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_PREVIOUS, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=288, .duration=40, .next_action_id=394, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=289, .duration=29, .next_action_id=395, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=16, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=290, .duration=35, .next_action_id=397, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=292, .duration=34, .next_action_id=399, .next_choice_id=398, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=293, .duration=34, .next_action_id=399, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=400, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=294, .duration=38, .next_action_id=401, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=16, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=295, .duration=27, .next_action_id=403, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=404, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=297, .duration=30, .next_action_id=405, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=16, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=298, .duration=33, .next_action_id=407, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=17, .next_action_id=408, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=19, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=300, .duration=27, .next_action_id=410, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=301, .duration=24, .next_action_id=411, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=16, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT_USERNAME, .detail=162, .duration=25, .next_action_id=413, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=302, .duration=36, .next_action_id=414, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=20, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=303, .duration=35, .next_action_id=416, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=305, .duration=40, .next_action_id=417, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=306, .duration=39, .next_action_id=418, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=30, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=307, .duration=160, .next_action_id=420, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=20, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=308, .duration=30, .next_action_id=422, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=310, .duration=36, .next_action_id=424, .next_choice_id=423, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=311, .duration=33, .next_action_id=424, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=312, .duration=29, .next_action_id=426, .next_choice_id=425, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=313, .duration=31, .next_action_id=426, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=314, .duration=30, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=22, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=316, .duration=31, .next_action_id=429, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=318, .duration=38, .next_action_id=430, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=319, .duration=40, .next_action_id=431, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=320, .duration=30, .next_action_id=432, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=23, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=321, .duration=39, .next_action_id=434, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=323, .duration=37, .next_action_id=435, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=324, .duration=40, .next_action_id=436, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=325, .duration=37, .next_action_id=437, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=326, .duration=20, .next_action_id=438, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=21, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=327, .duration=40, .next_action_id=440, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=329, .duration=37, .next_action_id=441, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=330, .duration=22, .next_action_id=442, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=331, .duration=39, .next_action_id=443, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=332, .duration=38, .next_action_id=444, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=333, .duration=38, .next_action_id=445, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=334, .duration=19, .next_action_id=446, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=21, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=335, .duration=35, .next_action_id=448, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=337, .duration=40, .next_action_id=449, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=338, .duration=33, .next_action_id=450, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=339, .duration=38, .next_action_id=451, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=340, .duration=21, .next_action_id=452, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=341, .duration=37, .next_action_id=453, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=342, .duration=21, .next_action_id=454, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=21, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=24, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=343, .duration=22, .next_action_id=460, .next_choice_id=457, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=345, .duration=28, .next_action_id=460, .next_choice_id=458, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=346, .duration=32, .next_action_id=460, .next_choice_id=459, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=347, .duration=23, .next_action_id=460, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=348, .duration=27, .next_action_id=462, .next_choice_id=461, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=349, .duration=27, .next_action_id=462, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT_CNT, .detail=350, .duration=34, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=351, .duration=24, .next_action_id=465, .next_choice_id=464, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=353, .duration=19, .next_action_id=465, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=354, .duration=38, .next_action_id=466, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=27, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=355, .duration=31, .next_action_id=468, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=357, .duration=34, .next_action_id=469, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=358, .duration=36, .next_action_id=470, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=359, .duration=23, .next_action_id=65535, .next_choice_id=471, .choice_share=1, .choice_total=5, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=360, .duration=29, .next_action_id=65535, .next_choice_id=472, .choice_share=1, .choice_total=5, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=361, .duration=36, .next_action_id=65535, .next_choice_id=473, .choice_share=1, .choice_total=5, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=362, .duration=37, .next_action_id=65535, .next_choice_id=474, .choice_share=1, .choice_total=5, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=363, .duration=34, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=5, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=31, .duration=0, .next_action_id=65535, .next_choice_id=478, .choice_share=9, .choice_total=13, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=364, .duration=160, .next_action_id=477, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=23, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=366, .duration=21, .next_action_id=65535, .next_choice_id=479, .choice_share=1, .choice_total=13, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=367, .duration=40, .next_action_id=480, .next_choice_id=481, .choice_share=1, .choice_total=13, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=368, .duration=20, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=369, .duration=29, .next_action_id=65535, .next_choice_id=482, .choice_share=1, .choice_total=13, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=370, .duration=37, .next_action_id=483, .next_choice_id=65535, .choice_share=1, .choice_total=13, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=371, .duration=35, .next_action_id=484, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=372, .duration=24, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=26, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=374, .duration=27, .next_action_id=488, .next_choice_id=487, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=376, .duration=35, .next_action_id=488, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=377, .duration=36, .next_action_id=489, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=378, .duration=32, .next_action_id=490, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=224, .duration=26, .next_action_id=491, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=32, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=379, .duration=160, .next_action_id=493, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=23, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=33, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=380, .duration=160, .next_action_id=496, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=24, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=343, .duration=22, .next_action_id=501, .next_choice_id=498, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=345, .duration=28, .next_action_id=501, .next_choice_id=499, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=346, .duration=32, .next_action_id=501, .next_choice_id=500, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=347, .duration=23, .next_action_id=501, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=348, .duration=27, .next_action_id=503, .next_choice_id=502, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=349, .duration=27, .next_action_id=503, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT_CNT, .detail=350, .duration=34, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=351, .duration=24, .next_action_id=506, .next_choice_id=505, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=353, .duration=19, .next_action_id=506, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=354, .duration=38, .next_action_id=507, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=27, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=381, .duration=35, .next_action_id=509, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=383, .duration=33, .next_action_id=510, .next_choice_id=511, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=384, .duration=23, .next_action_id=515, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=385, .duration=35, .next_action_id=515, .next_choice_id=512, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=386, .duration=39, .next_action_id=515, .next_choice_id=513, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=387, .duration=33, .next_action_id=514, .next_choice_id=65535, .choice_share=1, .choice_total=4, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=388, .duration=26, .next_action_id=515, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=389, .duration=35, .next_action_id=516, .next_choice_id=517, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=390, .duration=28, .next_action_id=518, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=391, .duration=38, .next_action_id=518, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=392, .duration=31, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=31, .duration=0, .next_action_id=65535, .next_choice_id=520, .choice_share=9, .choice_total=12, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=393, .duration=32, .next_action_id=521, .next_choice_id=522, .choice_share=1, .choice_total=12, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=394, .duration=25, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=395, .duration=40, .next_action_id=65535, .next_choice_id=523, .choice_share=1, .choice_total=12, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=396, .duration=35, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=12, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=374, .duration=27, .next_action_id=526, .next_choice_id=525, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=376, .duration=35, .next_action_id=526, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=377, .duration=36, .next_action_id=527, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=378, .duration=32, .next_action_id=528, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=224, .duration=26, .next_action_id=529, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=32, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=397, .duration=23, .next_action_id=531, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=140, .duration=30, .next_action_id=532, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=399, .duration=31, .next_action_id=533, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_STATE_TRANSITION, .detail=25, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_OTHER, .detail=0, .duration=0, .next_action_id=535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=392, .duration=31, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=400, .duration=28, .next_action_id=537, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=402, .duration=38, .next_action_id=538, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=403, .duration=21, .next_action_id=539, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=404, .duration=38, .next_action_id=540, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=405, .duration=37, .next_action_id=541, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=406, .duration=27, .next_action_id=542, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=407, .duration=39, .next_action_id=543, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=408, .duration=31, .next_action_id=544, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_CLOSE, .detail=0, .duration=0, .next_action_id=545, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_PREVIOUS, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=409, .duration=33, .next_action_id=547, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=410, .duration=32, .next_action_id=548, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=411, .duration=38, .next_action_id=549, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=412, .duration=30, .next_action_id=550, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_CLOSE, .detail=0, .duration=0, .next_action_id=551, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_PREVIOUS, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=413, .duration=30, .next_action_id=553, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_PREVIOUS, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=414, .duration=26, .next_action_id=556, .next_choice_id=555, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=415, .duration=29, .next_action_id=556, .next_choice_id=65535, .choice_share=1, .choice_total=2, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT_CNT, .detail=416, .duration=35, .next_action_id=65535, .next_choice_id=557, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT_CNT, .detail=417, .duration=28, .next_action_id=65535, .next_choice_id=558, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT_CNT, .detail=418, .duration=30, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=419, .duration=21, .next_action_id=562, .next_choice_id=560, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=421, .duration=24, .next_action_id=562, .next_choice_id=561, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=422, .duration=31, .next_action_id=562, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=6, .duration=96, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=423, .duration=25, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=424, .duration=21, .next_action_id=568, .next_choice_id=565, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=425, .duration=40, .next_action_id=568, .next_choice_id=566, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=426, .duration=40, .next_action_id=567, .next_choice_id=65535, .choice_share=1, .choice_total=3, }, (game_action_t){ .type=GAME_ACTION_TYPE_TEXT, .detail=427, .duration=27, .next_action_id=568, .next_choice_id=65535, .choice_share=1, .choice_total=1, }, (game_action_t){ .type=GAME_ACTION_TYPE_PREVIOUS, .detail=0, .duration=0, .next_action_id=65535, .next_choice_id=65535, .choice_share=1, .choice_total=1, }};

game_state_t all_states[] = {(game_state_t){.entry_series_id=0, .timer_series_len=1, .timer_series={(game_timer_t){.duration=160, .recurring=0, .result_action_id=4}}, .input_series_len=6, .input_series={(game_user_in_t){.text_addr=4, .result_action_id=8},(game_user_in_t){.text_addr=5, .result_action_id=9},(game_user_in_t){.text_addr=7, .result_action_id=10},(game_user_in_t){.text_addr=9, .result_action_id=14},(game_user_in_t){.text_addr=12, .result_action_id=18},(game_user_in_t){.text_addr=13, .result_action_id=19}}}, (game_state_t){.entry_series_id=20, .timer_series_len=0, .timer_series={}, .input_series_len=4, .input_series={(game_user_in_t){.text_addr=17, .result_action_id=22},(game_user_in_t){.text_addr=34, .result_action_id=30},(game_user_in_t){.text_addr=37, .result_action_id=41},(game_user_in_t){.text_addr=46, .result_action_id=47}}}, (game_state_t){.entry_series_id=50, .timer_series_len=1, .timer_series={(game_timer_t){.duration=160, .recurring=0, .result_action_id=54}}, .input_series_len=3, .input_series={(game_user_in_t){.text_addr=9, .result_action_id=58},(game_user_in_t){.text_addr=51, .result_action_id=62},(game_user_in_t){.text_addr=52, .result_action_id=63}}}, (game_state_t){.entry_series_id=64, .timer_series_len=0, .timer_series={}, .input_series_len=1, .input_series={(game_user_in_t){.text_addr=57, .result_action_id=67}}}, (game_state_t){.entry_series_id=72, .timer_series_len=1, .timer_series={(game_timer_t){.duration=160, .recurring=0, .result_action_id=76}}, .input_series_len=2, .input_series={(game_user_in_t){.text_addr=61, .result_action_id=80},(game_user_in_t){.text_addr=7, .result_action_id=85}}}, (game_state_t){.entry_series_id=89, .timer_series_len=1, .timer_series={(game_timer_t){.duration=160, .recurring=0, .result_action_id=93}}, .input_series_len=4, .input_series={(game_user_in_t){.text_addr=65, .result_action_id=97},(game_user_in_t){.text_addr=66, .result_action_id=102},(game_user_in_t){.text_addr=68, .result_action_id=107},(game_user_in_t){.text_addr=9, .result_action_id=112}}}, (game_state_t){.entry_series_id=116, .timer_series_len=0, .timer_series={}, .input_series_len=6, .input_series={(game_user_in_t){.text_addr=72, .result_action_id=117},(game_user_in_t){.text_addr=73, .result_action_id=119},(game_user_in_t){.text_addr=74, .result_action_id=121},(game_user_in_t){.text_addr=75, .result_action_id=123},(game_user_in_t){.text_addr=76, .result_action_id=125},(game_user_in_t){.text_addr=77, .result_action_id=126}}}, (game_state_t){.entry_series_id=127, .timer_series_len=0, .timer_series={}, .input_series_len=4, .input_series={(game_user_in_t){.text_addr=81, .result_action_id=128},(game_user_in_t){.text_addr=83, .result_action_id=134},(game_user_in_t){.text_addr=85, .result_action_id=140},(game_user_in_t){.text_addr=87, .result_action_id=146}}}, (game_state_t){.entry_series_id=151, .timer_series_len=0, .timer_series={}, .input_series_len=5, .input_series={(game_user_in_t){.text_addr=83, .result_action_id=152},(game_user_in_t){.text_addr=88, .result_action_id=158},(game_user_in_t){.text_addr=90, .result_action_id=159},(game_user_in_t){.text_addr=92, .result_action_id=164},(game_user_in_t){.text_addr=95, .result_action_id=169}}}, (game_state_t){.entry_series_id=65535, .timer_series_len=2, .timer_series={(game_timer_t){.duration=256, .recurring=0, .result_action_id=175},(game_timer_t){.duration=1152, .recurring=0, .result_action_id=179}}, .input_series_len=4, .input_series={(game_user_in_t){.text_addr=112, .result_action_id=188},(game_user_in_t){.text_addr=118, .result_action_id=194},(game_user_in_t){.text_addr=125, .result_action_id=201},(game_user_in_t){.text_addr=131, .result_action_id=207}}}, (game_state_t){.entry_series_id=65535, .timer_series_len=2, .timer_series={(game_timer_t){.duration=640, .recurring=0, .result_action_id=217},(game_timer_t){.duration=480, .recurring=0, .result_action_id=226}}, .input_series_len=3, .input_series={(game_user_in_t){.text_addr=149, .result_action_id=232},(game_user_in_t){.text_addr=155, .result_action_id=238},(game_user_in_t){.text_addr=169, .result_action_id=252}}}, (game_state_t){.entry_series_id=65535, .timer_series_len=2, .timer_series={(game_timer_t){.duration=480, .recurring=0, .result_action_id=261},(game_timer_t){.duration=38400, .recurring=0, .result_action_id=267}}, .input_series_len=5, .input_series={(game_user_in_t){.text_addr=181, .result_action_id=270},(game_user_in_t){.text_addr=189, .result_action_id=277},(game_user_in_t){.text_addr=198, .result_action_id=285},(game_user_in_t){.text_addr=203, .result_action_id=291},(game_user_in_t){.text_addr=207, .result_action_id=295}}}, (game_state_t){.entry_series_id=299, .timer_series_len=0, .timer_series={}, .input_series_len=1, .input_series={(game_user_in_t){.text_addr=216, .result_action_id=304}}}, (game_state_t){.entry_series_id=315, .timer_series_len=0, .timer_series={}, .input_series_len=2, .input_series={(game_user_in_t){.text_addr=228, .result_action_id=319},(game_user_in_t){.text_addr=233, .result_action_id=325}}}, (game_state_t){.entry_series_id=65535, .timer_series_len=0, .timer_series={}, .input_series_len=1, .input_series={(game_user_in_t){.text_addr=233, .result_action_id=329}}}, (game_state_t){.entry_series_id=333, .timer_series_len=0, .timer_series={}, .input_series_len=3, .input_series={(game_user_in_t){.text_addr=241, .result_action_id=337},(game_user_in_t){.text_addr=246, .result_action_id=341},(game_user_in_t){.text_addr=252, .result_action_id=346}}}, (game_state_t){.entry_series_id=65535, .timer_series_len=1, .timer_series={(game_timer_t){.duration=90240, .recurring=0, .result_action_id=350}}, .input_series_len=4, .input_series={(game_user_in_t){.text_addr=198, .result_action_id=352},(game_user_in_t){.text_addr=256, .result_action_id=358},(game_user_in_t){.text_addr=261, .result_action_id=362},(game_user_in_t){.text_addr=272, .result_action_id=372}}}, (game_state_t){.entry_series_id=376, .timer_series_len=2, .timer_series={(game_timer_t){.duration=960, .recurring=0, .result_action_id=378},(game_timer_t){.duration=64, .recurring=0, .result_action_id=380}}, .input_series_len=1, .input_series={(game_user_in_t){.text_addr=281, .result_action_id=384}}}, (game_state_t){.entry_series_id=65535, .timer_series_len=1, .timer_series={(game_timer_t){.duration=160, .recurring=0, .result_action_id=393}}, .input_series_len=3, .input_series={(game_user_in_t){.text_addr=291, .result_action_id=396},(game_user_in_t){.text_addr=296, .result_action_id=402},(game_user_in_t){.text_addr=299, .result_action_id=406}}}, (game_state_t){.entry_series_id=65535, .timer_series_len=0, .timer_series={}, .input_series_len=0, .input_series={}}, (game_state_t){.entry_series_id=65535, .timer_series_len=0, .timer_series={}, .input_series_len=1, .input_series={(game_user_in_t){.text_addr=304, .result_action_id=415}}}, (game_state_t){.entry_series_id=65535, .timer_series_len=0, .timer_series={}, .input_series_len=3, .input_series={(game_user_in_t){.text_addr=309, .result_action_id=421},(game_user_in_t){.text_addr=315, .result_action_id=427},(game_user_in_t){.text_addr=317, .result_action_id=428}}}, (game_state_t){.entry_series_id=65535, .timer_series_len=0, .timer_series={}, .input_series_len=3, .input_series={(game_user_in_t){.text_addr=322, .result_action_id=433},(game_user_in_t){.text_addr=328, .result_action_id=439},(game_user_in_t){.text_addr=336, .result_action_id=447}}}, (game_state_t){.entry_series_id=65535, .timer_series_len=1, .timer_series={(game_timer_t){.duration=21120, .recurring=0, .result_action_id=455}}, .input_series_len=6, .input_series={(game_user_in_t){.text_addr=344, .result_action_id=456},(game_user_in_t){.text_addr=352, .result_action_id=463},(game_user_in_t){.text_addr=356, .result_action_id=467},(game_user_in_t){.text_addr=365, .result_action_id=475},(game_user_in_t){.text_addr=373, .result_action_id=485},(game_user_in_t){.text_addr=375, .result_action_id=486}}}, (game_state_t){.entry_series_id=65535, .timer_series_len=1, .timer_series={(game_timer_t){.duration=21120, .recurring=0, .result_action_id=494}}, .input_series_len=6, .input_series={(game_user_in_t){.text_addr=344, .result_action_id=497},(game_user_in_t){.text_addr=352, .result_action_id=504},(game_user_in_t){.text_addr=382, .result_action_id=508},(game_user_in_t){.text_addr=365, .result_action_id=519},(game_user_in_t){.text_addr=375, .result_action_id=524},(game_user_in_t){.text_addr=398, .result_action_id=530}}}, (game_state_t){.entry_series_id=534, .timer_series_len=0, .timer_series={}, .input_series_len=1, .input_series={(game_user_in_t){.text_addr=401, .result_action_id=536}}}, (game_state_t){.entry_series_id=546, .timer_series_len=0, .timer_series={}, .input_series_len=0, .input_series={}}, (game_state_t){.entry_series_id=554, .timer_series_len=1, .timer_series={(game_timer_t){.duration=320, .recurring=0, .result_action_id=552}}, .input_series_len=0, .input_series={}}, (game_state_t){.entry_series_id=65535, .timer_series_len=1, .timer_series={(game_timer_t){.duration=256, .recurring=0, .result_action_id=563}}, .input_series_len=1, .input_series={(game_user_in_t){.text_addr=420, .result_action_id=559}}}, (game_state_t){.entry_series_id=65535, .timer_series_len=0, .timer_series={}, .input_series_len=1, .input_series={(game_user_in_t){.text_addr=420, .result_action_id=564}}}, (game_state_t){.entry_series_id=419, .timer_series_len=0, .timer_series={}, .input_series_len=0, .input_series={}}, (game_state_t){.entry_series_id=476, .timer_series_len=0, .timer_series={}, .input_series_len=0, .input_series={}}, (game_state_t){.entry_series_id=492, .timer_series_len=0, .timer_series={}, .input_series_len=0, .input_series={}}, (game_state_t){.entry_series_id=495, .timer_series_len=0, .timer_series={}, .input_series_len=0, .input_series={}}};


////


uint8_t text_cursor = 0;
game_state_t loaded_state;
game_action_t loaded_action;
game_state_t *current_state;
uint16_t closed_states[MAX_CLOSED_STATES] = {0};

// TODO: persistent
uint16_t stored_state_id = 0;
uint16_t last_state_id = 0;
uint16_t current_state_id;

extern uint8_t s_down, s_up, s_left, s_right, s_clock_tick;

uint8_t in_action_series = 0;
uint16_t game_curr_elapsed = 0;

uint8_t text_selection = 0;

const rgbcolor_t rainbow_colors[] = {
        {255, 0, 0}, // Red
        {255, 24, 0x00}, // Orange
        {128, 40, 0x00}, // Yellow
        {0, 64, 0}, // Green
        {0, 0, 196}, // Blue
        {128, 0, 128}, // Purple
};

const led_ring_animation_t anim_rainbow = {
        &rainbow_colors[0],
        6,
        5,
        "Rainbow"
};


const rgbcolor_t pan_colors[] = {
        {0xff, 0x21, 0x8c}, // 255,33,140
        {0xff, 0xd8, 0x00}, //255,216,0
        {0xff, 0xd8, 0x00}, //255,216,0
        {0x21, 0xb1, 0xff}, //33,177,255
};

const led_ring_animation_t anim_pan = {
        &pan_colors[0],
        4,
        6,
        "Pansexual"
};

void game_set_state(uint16_t state_id) {
    last_state_id = current_state_id;
    in_action_series = 0;
    game_curr_elapsed = 0;
    text_selection = 0;

    memcpy(&loaded_state, &all_states[state_id], sizeof(game_state_t));

    current_state = &loaded_state;
    current_state_id = state_id;

    start_action_series(current_state->entry_series_id);
}

void game_begin() {
    all_animations[0] = anim_rainbow;
    all_animations[1] = anim_pan;
    all_animations[2] = anim_rainbow;

    game_set_state(0);
}

uint8_t current_text[25] = "";
uint8_t current_text_len = 0;

void begin_text_action() {
    current_text[24] = 0;
    current_text_len = strlen(current_text);

    lcd111_clear(1);
    lcd111_cursor_pos(1, 0);
    lcd111_cursor_type(1, LCD111_CURSOR_INVERTING);
    text_cursor = 0;

    if (is_text_type(loaded_action.type) &&
                    loaded_action.next_action_id == ACTION_NONE) {
        // Special case: show the text selection on the last frame
        //  of a text animation.
        draw_text_selection();
    }
}

void do_action(game_action_t *action) {
    switch(action->type) {
    case GAME_ACTION_TYPE_ANIM_TEMP:
        // Set a temporary animation
        led_set_anim(&all_animations[action->detail], LED_ANIM_TYPE_FALL, 0, 0);
        break;
    case GAME_ACTION_TYPE_SET_ANIM_BG:
        // Set a new background animation
        if (action->detail >= all_anims_len || action->detail == GAME_NULL) {
            led_set_anim_none();
        }
        led_set_anim(&all_animations[action->detail], LED_ANIM_TYPE_FALL, 0xFF, 1);
        break;
    case GAME_ACTION_TYPE_STATE_TRANSITION:
        // Do a state transition
        game_set_state(action->detail);
        break;
    case GAME_ACTION_TYPE_PUSH:
        // Store the current state.
        stored_state_id = current_state_id;
        break;
    case GAME_ACTION_TYPE_POP:
        // Retrieve a stored state.
        game_set_state(stored_state_id);
        break;
    case GAME_ACTION_TYPE_PREVIOUS:
        // Return to the last state.
        game_set_state(last_state_id);
        break;
    case GAME_ACTION_TYPE_CLOSE:
        // TODO: add this state to the list of blocked states.
        break;
    case GAME_ACTION_TYPE_TEXT:
        // Display some text
        memcpy(current_text, all_text[action->detail], 24);
        begin_text_action();
        break;
    case GAME_ACTION_TYPE_TEXT_BADGNAME:
        sprintf(current_text, all_text[action->detail], badge_conf.badge_name);
        begin_text_action();
        break;
    case GAME_ACTION_TYPE_TEXT_USERNAME:
        sprintf(current_text, all_text[action->detail], badge_conf.person_name);
        begin_text_action();
        break;
    case GAME_ACTION_TYPE_TEXT_CNT:
        sprintf(current_text, all_text[action->detail], badges_nearby);
        begin_text_action();

    case GAME_ACTION_TYPE_NOP:
        break; // just... do nothing.
    case GAME_ACTION_TYPE_OTHER:
        // TODO: handle
        break;
    }
}

/// Render bottom screen for the current state and value of `text_selection`.
void draw_text_selection() {
    lcd111_clear(0);
    if (text_selection < current_state->input_series_len) {
        lcd111_put_text(0, all_text[current_state->input_series[text_selection].text_addr], 24);
    }
}

void load_action(game_action_t *dest, uint16_t id) {
    // TODO: handle SPI flash
    memcpy(dest, &all_actions[id],
           sizeof(game_action_t));
}

/// Place the next action choice in `loaded_action`.
void select_action_choice(uint16_t first_choice_id) {
    // This function is SIDE EFFECT CITY!
    load_action(&loaded_action, first_choice_id);

    if (loaded_action.next_choice_id == ACTION_NONE) {
        // This is our last (or maybe only) choice, so we have to take it.
        return;
    }

    uint16_t random_value = rand() % loaded_action.choice_total;
    uint16_t total_choices = 0;

    do {
        total_choices += loaded_action.choice_share;
        if (loaded_action.next_choice_id == ACTION_NONE ||
                random_value < total_choices)
            return; // loaded_action fires.
        // need to get the next action:
        load_action(&loaded_action, loaded_action.next_choice_id);
    } while (1);
}

void start_action_series(uint16_t action_id) {
    // action_id is the ID of the first action in this action series.

    // First, handle the case where this is an empty action series:
    if (action_id == ACTION_NONE) {
        in_action_series = 0;
        game_curr_elapsed = 0;
        draw_text_selection();
        return;
    }

    // Now, we know we're dealing with a real action series.
    // Place the appropriate action choice into `loaded_action`.
    select_action_choice(action_id);
    // We know we're in an action series, so set everything up:
    in_action_series = 1;
    game_curr_elapsed = 0;
    lcd111_set_text(0, "");
    do_action(&loaded_action);
}

uint8_t is_text_type(uint16_t type) {
    return (type >= GAME_ACTION_TYPE_TEXT && type < GAME_ACTION_TYPE_TEXT_END);
}

void game_action_sequence_tick() {
    if (is_text_type(loaded_action.type)) {
        // Check for typewritering.

        // If we haven't put all our text in yet...
        if (text_cursor < current_text_len) {
            game_curr_elapsed = 0;
            lcd111_put_char(LCD_TOP, current_text[text_cursor]);
            text_cursor++;
            if (text_cursor == current_text_len) {
                // Done typing. Is there anything we need to _do_ here?
            }
            // Now, we DON'T want this action to finish (or even for its
            //  duration to start ticking) until the typewriter is finished.
            return;
        }
    }

    // If we're in an action series, we block out user input.
    // Check whether the current action is completed and duration expired.
    //  If so, it's time to fire the next one.
    if (game_curr_elapsed >= loaded_action.duration) {
        // Current action in series is over. Reset the clock.
        game_curr_elapsed = 0;
        // Time to select the next one, if there is one.
        if (loaded_action.next_action_id == ACTION_NONE) {
            // There is no follow-up action, so this series has concluded.
            in_action_series = 0;
            // ACTIVATE THE MENU!
            draw_text_selection();
        } else {
            // We DO have a follow-up action. Make a selection based upon
            //  the current action's next_action_id:
            select_action_choice(loaded_action.next_action_id);
            // Now run the selection.
            do_action(&loaded_action);
        }
    }
}

void game_clock_tick() {
    if (in_action_series) {
        game_action_sequence_tick();
    } else {
        // This is a clock tick for a non-action sequence.

        // Next, check whether any of our timers need to fire.
        for (uint8_t i=0; i<current_state->timer_series_len; i++) {
            // If the current elapsed time is equal to the timer duration,
            //  OR if it's a recurring timer and the elapsed time is equal to
            //  zero modulo the duration, then this timer is allowed to fire.
            // Note that this method is quite sensitive to the order in which
            //  the timers populate their array. So it's important that the
            //  instructions, above, on how to order them be followed.
            // TODO: clean this shit up (appearance-wise):
            if (game_curr_elapsed && (
                    (game_curr_elapsed == current_state->timer_series[i].duration) ||
                    (current_state->timer_series[i].recurring && ((game_curr_elapsed % current_state->timer_series[i].duration) == 0)))) {
                // Time `i` should fire.
                start_action_series(current_state->timer_series[i].result_action_id);
                break;
            }
        }
    }
}

/// Called repeatedly from the main loop to handle steps of the game states.
void game_handle_loop() {
    if (s_clock_tick) {
        // This is the timestep signal, so increment our elapsed counter.
        game_curr_elapsed++;
        game_clock_tick();
    }

    if (in_action_series) {
        // User input is blocked.
        if (is_text_type(loaded_action.type) &&
                loaded_action.next_action_id == ACTION_NONE) {
            // SPECIAL CASE: unblock input if we're just text, and this is
            //  its last frame.
        } else {
            return;
        }
    }
    // User input is unblocked, and timers are unblocked.
    // Check whether the user has changed or selected a text
    //  entry.
    if (current_state->input_series_len) {
        if (s_up) {
            text_selection = (text_selection + current_state->input_series_len-1) % current_state->input_series_len;
            draw_text_selection();
        } else if (s_down) {
            text_selection = (text_selection + 1) % current_state->input_series_len;
            draw_text_selection();
        } else if (s_right) {
            // Select.
            start_action_series(current_state->input_series[text_selection].result_action_id);
            return;
        }
    }

}
